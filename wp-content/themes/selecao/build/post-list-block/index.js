(()=>{"use strict";var e,s={696:()=>{const e=window.wp.blocks,s=window.wp.i18n,t=window.wp.blockEditor,i=window.wp.components,l=window.wp.data,n=window.wp.element,o=window.ReactJSXRuntime,a=JSON.parse('{"UU":"custom-blocks/post-list-block"}');(0,e.registerBlockType)(a.UU,{edit:function({attributes:e,setAttributes:a}){const{title:r,heading:c,currentPage:d,totalPages:p}=e,h=(0,l.useSelect)((e=>e("core").getEntityRecords("postType","post",{per_page:-1,_embed:!0})),[]),x=(0,l.useSelect)((e=>{const s={per_page:5,page:d,_embed:!0};return e("core").getEntityRecords("postType","post",s)}),[d]);(0,n.useEffect)((()=>{if(h){const e=Math.ceil(h.length/5);a({totalPages:e,posts:x})}}),[h,x,d,a]);const[u,j]=(0,n.useState)(!0);return(0,o.jsxs)("div",{...(0,t.useBlockProps)(),children:[(0,o.jsxs)("h2",{onClick:()=>j(!u),className:"block-title "+(u?"":"expanded"),children:[(0,s.__)("Post List Block","post-list-block"),(0,o.jsx)("span",{className:"toggle-icon"})]}),(0,o.jsx)("div",{className:"block-wrap "+(u?"collapsed":"expanded"),children:!u&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h6",{children:(0,s.__)("Title","post-list-block")}),(0,o.jsx)(i.TextControl,{value:r,onChange:e=>a({title:e})}),(0,o.jsx)("h6",{children:(0,s.__)("Heading","post-list-block")}),(0,o.jsx)(i.TextControl,{value:c,onChange:e=>a({heading:e})}),(0,o.jsx)("h6",{children:(0,s.__)("Post List","post-list-block")}),(0,o.jsx)("div",{className:"post-listing",children:(0,o.jsx)("ul",{children:x&&x.map((e=>(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:e.link,children:e.title.rendered})},e.id)))})})]})})]})},save:function({attributes:e}){const{title:s,heading:i,posts:l}=e;return Math.ceil(l.length/3),(0,o.jsx)("div",{...t.useBlockProps.save(),children:(0,o.jsx)("div",{className:"post-listing-block",children:(0,o.jsxs)("div",{id:"recent-posts",class:"recent-posts section",children:[(0,o.jsxs)("div",{class:"container section-title aos-init aos-animate","data-aos":"fade-up",children:[s&&(0,o.jsx)("h2",{children:s}),i&&(0,o.jsx)("p",{children:i})]}),(0,o.jsx)("div",{class:"container",children:(0,o.jsx)("div",{class:"row gy-4",children:l.map(((e,s)=>{const t=e._embedded?.["wp:term"]?.[0]||[],i=e._embedded?.["wp:featuredmedia"]?.[0]?.source_url;return(0,o.jsx)("div",{class:"col-xl-4 col-md-6 aos-init aos-animate","data-aos":"fade-up","data-aos-delay":"100",children:(0,o.jsxs)("article",{children:[(0,o.jsx)("div",{class:"post-img",children:i&&(0,o.jsx)("img",{src:i,alt:e.title.rendered,className:"img-fluid"})}),t.map((e=>(0,o.jsxs)("p",{class:"post-category",children:[e.name," "]},e.id))),(0,o.jsx)("h2",{class:"title",children:(0,o.jsx)("a",{href:e.link,children:e.title.rendered})}),(0,o.jsx)("div",{class:"d-flex align-items-center",children:(0,o.jsxs)("div",{class:"post-meta",children:[(0,o.jsx)("p",{class:"post-author",children:"Maria Doe"}),(0,o.jsx)("p",{class:"post-date",children:(0,o.jsx)("time",{datetime:"2022-01-01",children:"Jan 1, 2022"})})]})})]})},e.id)}))})})]})})})}})}},t={};function i(e){var l=t[e];if(void 0!==l)return l.exports;var n=t[e]={exports:{}};return s[e](n,n.exports,i),n.exports}i.m=s,e=[],i.O=(s,t,l,n)=>{if(!t){var o=1/0;for(d=0;d<e.length;d++){for(var[t,l,n]=e[d],a=!0,r=0;r<t.length;r++)(!1&n||o>=n)&&Object.keys(i.O).every((e=>i.O[e](t[r])))?t.splice(r--,1):(a=!1,n<o&&(o=n));if(a){e.splice(d--,1);var c=l();void 0!==c&&(s=c)}}return s}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[t,l,n]},i.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={15:0,447:0};i.O.j=s=>0===e[s];var s=(s,t)=>{var l,n,[o,a,r]=t,c=0;if(o.some((s=>0!==e[s]))){for(l in a)i.o(a,l)&&(i.m[l]=a[l]);if(r)var d=r(i)}for(s&&s(t);c<o.length;c++)n=o[c],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(d)},t=globalThis.webpackChunkcustom_block=globalThis.webpackChunkcustom_block||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))})();var l=i.O(void 0,[447],(()=>i(696)));l=i.O(l)})();