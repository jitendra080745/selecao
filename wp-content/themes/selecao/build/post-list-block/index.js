(()=>{"use strict";var e,t={178:()=>{const e=window.wp.blocks,t=window.wp.i18n,s=window.wp.blockEditor,n=window.wp.data,a=window.wp.element,i=window.ReactJSXRuntime,r=JSON.parse('{"UU":"custom-blocks/post-list-block"}');(0,e.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:r}){const{currentPage:l,totalPages:o}=e,c=(0,n.useSelect)((e=>e("core").getEntityRecords("postType","post",{per_page:-1,_embed:!0})),[]),d=(0,n.useSelect)((e=>{const t={per_page:5,page:l,_embed:!0};return e("core").getEntityRecords("postType","post",t)}),[l]);(0,a.useEffect)((()=>{if(c){const e=Math.ceil(c.length/5);r({totalPages:e,posts:d})}}),[c,d,l,r]);const[p,g]=(0,a.useState)(!0);return(0,i.jsxs)("div",{...(0,s.useBlockProps)(),children:[(0,i.jsxs)("h2",{onClick:()=>g(!p),className:"block-title "+(p?"":"show"),children:[(0,t.__)("Post List Block","post-list-block"),(0,i.jsx)("span",{})]}),(0,i.jsx)("div",{className:"block-wrap "+(p?"collapsed":"show"),children:!p&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h6",{children:(0,t.__)("Post List","post-list-block")}),(0,i.jsx)("div",{className:"post-listing",children:(0,i.jsx)("ul",{children:d&&d.map((e=>(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:e.link,children:e.title.rendered})},e.id)))})})]})})]})},save:function({attributes:e}){const{posts:t}=e,n=Math.ceil(t.length/3),a=`\n        document.addEventListener("DOMContentLoaded", () => {\n            const postListingBlock = document.querySelector(".post-listing-block");\n            const posts = Array.from(postListingBlock.querySelectorAll(".portfolio-item"));\n            const pagination = postListingBlock.querySelector(".pagination");\n            let currentPage = 1;\n\n            const renderPosts = () => {\n                const start = (currentPage - 1) * 3;\n                const end = start + 3;\n\n                posts.forEach((post, index) => {\n                    post.style.display = index >= start && index < end ? "block" : "none";\n                });\n\n                pagination.querySelectorAll(".page-item").forEach((button) => {\n                    button.classList.remove("active", "disabled");\n                });\n\n                pagination.querySelector('[data-page="' + currentPage + '"]')?.classList.add("active");\n                if (currentPage === 1) {\n                    pagination.querySelector('[data-page="prev"]')?.classList.add("disabled");\n                }\n                if (currentPage === ${n}) {\n                    pagination.querySelector('[data-page="next"]')?.classList.add("disabled");\n                }\n            };\n\n            pagination.addEventListener("click", (e) => {\n                const target = e.target.closest(".page-item");\n                if (!target || target.classList.contains("disabled")) return;\n\n                const page = target.dataset.page;\n                if (page === "prev") {\n                    currentPage = Math.max(1, currentPage - 1);\n                } else if (page === "next") {\n                    currentPage = Math.min(${n}, currentPage + 1);\n                } else {\n                    currentPage = parseInt(page, 10);\n                }\n\n                renderPosts();\n            });\n\n            renderPosts(); // Initial render\n        });\n    `;return(0,i.jsxs)("div",{...s.useBlockProps.save(),children:[(0,i.jsxs)("div",{className:"post-listing-block",children:[(0,i.jsx)("section",{id:"blog-posts",className:"blog-posts section",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsx)("div",{className:"row gy-4",children:t.map(((e,t)=>{const s=e._embedded?.["wp:term"]?.[0]||[],n=e._embedded?.["wp:featuredmedia"]?.[0]?.source_url;return(0,i.jsx)("div",{className:"col-lg-4 portfolio-item isotope-item filter-app","data-index":t,children:(0,i.jsxs)("article",{children:[(0,i.jsx)("div",{className:"post-img",children:n&&(0,i.jsx)("img",{src:n,alt:e.title.rendered,className:"post-featured-image w-100"})}),s.map((e=>(0,i.jsx)("p",{className:"post-category",children:e.name},e.id))),(0,i.jsx)("h2",{className:"title",children:(0,i.jsx)("a",{href:e.link,children:e.title.rendered})}),(0,i.jsx)("div",{className:"d-flex align-items-center",children:(0,i.jsxs)("div",{className:"post-meta",children:[(0,i.jsx)("p",{className:"post-author",children:"Maria Doe"}),(0,i.jsx)("p",{className:"post-date",children:(0,i.jsx)("time",{dateTime:"2022-01-01",children:"Jan 1, 2022"})})]})})]})},e.id)}))})})}),(0,i.jsx)("section",{id:"blog-pagination",className:"blog-pagination section",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsx)("div",{className:"d-flex justify-content-center",children:(0,i.jsx)("nav",{"aria-label":"Page navigation",className:"post-pagination",children:(0,i.jsxs)("ul",{className:"pagination",children:[(0,i.jsx)("li",{className:"page-item disabled","data-page":"prev",children:(0,i.jsx)("a",{href:"#",children:(0,i.jsx)("i",{className:"bi bi-chevron-left"})})}),Array.from({length:n},((e,t)=>(0,i.jsx)("li",{className:"page-item","data-page":t+1,children:(0,i.jsx)("a",{href:"#",children:t+1})},t+1))),(0,i.jsx)("li",{className:"page-item","data-page":"next",children:(0,i.jsx)("a",{href:"#",children:(0,i.jsx)("i",{className:"bi bi-chevron-right"})})})]})})})})})]}),(0,i.jsx)("script",{dangerouslySetInnerHTML:{__html:a}})]})}})}},s={};function n(e){var a=s[e];if(void 0!==a)return a.exports;var i=s[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,s,a,i)=>{if(!s){var r=1/0;for(d=0;d<e.length;d++){for(var[s,a,i]=e[d],l=!0,o=0;o<s.length;o++)(!1&i||r>=i)&&Object.keys(n.O).every((e=>n.O[e](s[o])))?s.splice(o--,1):(l=!1,i<r&&(r=i));if(l){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[s,a,i]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={15:0,447:0};n.O.j=t=>0===e[t];var t=(t,s)=>{var a,i,[r,l,o]=s,c=0;if(r.some((t=>0!==e[t]))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(o)var d=o(n)}for(t&&t(s);c<r.length;c++)i=r[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},s=globalThis.webpackChunkcustom_block=globalThis.webpackChunkcustom_block||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var a=n.O(void 0,[447],(()=>n(178)));a=n.O(a)})();